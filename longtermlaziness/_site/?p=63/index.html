<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Case study #2 undefined initialization</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">Long-term laziness</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <h2>Case study #2 undefined initialization</h2>
<p class="meta">27 Apr 2010</p>

<div class="post">
<p><a href="http://tobyho.com/">airportyh</a> and I are currently working on an ES3-based implementation of ES5 array extras. As such, we are trying to conform as much as we can to the chapter 15.4.4 <a href="http://es5conform.codeplex.com/">ES5 conformance suite</a>.<br>
With this suite comes a testing library sth.js. After throwing this library into <a href="http://www.jslint.com/">jslint</a>. I saw that there are variable initializations to <code>undefined</code>. This is bad for two reasons.<br>
I explain what to do with object properties in a third part.</p>

<h3>If you don&#8217;t want to define it, don&#8217;t do it</h3>

<p>By default, the value of a variable that is not initialized is <code>undefined</code><br>
[sourcecode language=&quot;javascript&quot; light=&quot;on&quot;]<br>
var a;<br>
alert(a); // alerts &quot;undefined&quot;<br>
[/sourcecode]<br>
There is no trap, no ambiguity, no inconsistency. This behavior exists since the big bang.</p>

<h3><code>undefined</code>&#8216;s value may not be <code>undefined</code></h3>

<p>[sourcecode language=&quot;javascript&quot; light=&quot;on&quot;]<br>
var undefined = 5; // No error, no mistake, no joke.<br>
var a = undefined;<br>
alert(a); // alerts &#8217;5&#8242;<br>
[/sourcecode]<br>
Quite scary. In the weirdest cases where the code you write is wrapped (to be made private, for instance), it could be in an environment where undefined is overridden. </p>

<h3>Getting rid of an object property</h3>

<p>Once again, assigning <code>undefined</code> is not the good idea.<br>
Two solutions : if you want to keep the property in the object, but get rid of the value, assign to <code>null</code> (you cannot do the previous assignment trick with <code>null</code>). If you want to remove the property from the object, use <code>delete</code> on this property.</p>

<p>Note : <code>delete</code> removes a property from an object. It doesn&#8217;t &#8220;delete&#8221; an object from the memory. I will write an article about <code>delete</code> sooner or later</p>

<h3>Conclusion</h3>

<p>My conclusion is simple : never initialize to undefined. There is no reason for it and it might be dangerous.</p>

</div>


          <div class="footer">
            <div class="contact">
              <p>
                Your Name<br />
                What You Are<br />
                you@example.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/yourusername">github.com/yourusername</a><br />
                <a href="https://twitter.com/yourusername">twitter.com/yourusername</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
